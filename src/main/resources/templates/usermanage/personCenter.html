<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: header (pageTitle='用户管理')">
    <!-- META SECTION -->
    <title>Joli Admin - Responsive Bootstrap Admin Template</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <!-- END META SECTION -->

    <!-- CSS INCLUDE -->
    <link rel="stylesheet" type="text/css"  href="/css/theme-default.css"/>
    <link rel="stylesheet" type="text/css"  href="/css/bootstrap-table.min.css"/>
    <!-- EOF CSS INCLUDE -->
</head>


<body>



<!-- START PAGE CONTAINER -->
<div class="page-container page-navigation-toggled page-container-wide page-navigation-top-fixed">

    <!-- START PAGE SIDEBAR -->
    <div th:include="fragments/layout :: sideBar" th:remove="tag"></div>
    <!-- END PAGE SIDEBAR -->

    <!-- PAGE CONTENT -->
    <div class="page-content">


        <!--START SMALL NAVIGATION-->
        <ul class="breadcrumb">

        </ul>
        <div th:include="fragments/layout :: contentTop" th:remove="tag"></div>
        <!--END SMALL NAVIGATION-->

        <div class="page-content-wrap">

            <!-- START X-NAVIGATION VERTICAL -->
            <!-- END X-NAVIGATION VERTICAL -->

            <div class="row">
                <div class="col-md-3">

                    <div class="panel panel-default">
                        <div class="panel-body profile" style="background: url('/assets/images/gallery/music-4.jpg') center center no-repeat;">
                            <div class="profile-image">
                                <img src="/assets/images/users/user3.jpg" alt="Nadia Ali"/>
                            </div>
                            <div class="profile-data">
                                <div class="profile-data-name" id="top_name">Nadia Ali</div>
                                <div class="profile-data-title" style="color: #FFF;" id="top_description">Singer-Songwriter</div>
                            </div>

                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <button class="btn btn-info btn-rounded btn-block"><span class="fa fa-check"></span> Following</button>
                                </div>
                                <div class="col-md-6">
                                    <button class="btn btn-primary btn-rounded btn-block"><span class="fa fa-comments"></span> Chat</button>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body list-group border-bottom">
                            <a href="#" id="userInfo" onclick="changeForm('userInfo','userInfoForm',fillForm())" class="list-group-item active"><span class="fa fa-bar-chart-o"></span> 个人信息 </a>
                            <a href="#" id="resume" onclick="changeForm('resume','resumeForm')" class="list-group-item"><span class="fa fa-coffee"></span> 我的简历 <span class="badge badge-default"></span></a>
                            <a href="#" id="collection" onclick="changeForm('collection','collectionForm')" class="list-group-item"><span class="fa fa-users"></span> 个人收藏 <span class="badge badge-danger"></span></a>
                            <a href="#" id="searchHistory" onclick="changeForm('searchHistory','searchHistoryForm')" class="list-group-item"><span class="fa fa-folder"></span> 搜索记录 </a>
                            <a href="#" id="textSet" onclick="changeForm('textSet','textSetForm')" class="list-group-item"><span class="fa fa-cog"></span> 修改密码 </a>
                            <a href="#" id="setting" onclick="changeForm('setting','settingForm')" class="list-group-item"><span class="fa fa-cog"></span> 设置 </a>
                        </div>
                        <div class="panel-body">
                            <h4 class="text-title">Friends</h4>
                            <div class="row">
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user.jpg"/>
                                        <span>Dmitry Ivaniuk</span>
                                    </a>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user2.jpg"/>
                                        <span>John Doe</span>
                                    </a>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user4.jpg"/>
                                        <span>Brad Pit</span>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user5.jpg"/>
                                        <span>John Travolta</span>
                                    </a>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user6.jpg"/>
                                        <span>Darth Vader</span>
                                    </a>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <a href="#" class="friend">
                                        <img src="/assets/images/users/user7.jpg"/>
                                        <span>Samuel Leroy Jackson</span>
                                    </a>
                                </div>
                            </div>

                            <h4 class="text-title">Photos</h4>
                            <div class="gallery" id="links">
                                <a href="/assets/images/gallery/music-1.jpg" title="Music Image 1" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/music-1.jpg" alt="Music Image 1"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/music-2.jpg" title="Music Image 2" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/music-2.jpg" alt="Music Image 2"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/music-3.jpg" title="Music Image 3" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/music-3.jpg" alt="Music Image 3"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/nature-1.jpg" title="Nature Image 1" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/nature-1.jpg" alt="Nature Image 1"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/nature-2.jpg" title="Nature Image 2" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/nature-2.jpg" alt="Nature Image 2"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/nature-3.jpg" title="Nature Image 3" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/nature-3.jpg" alt="Nature Image 3"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/nature-4.jpg" title="Nature Image 4" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/nature-4.jpg" alt="Nature Image 4"/>
                                    </div>
                                </a>
                                <a href="/assets/images/gallery/nature-5.jpg" title="Nature Image 5" class="gallery-item" data-gallery>
                                    <div class="image">
                                        <img src="/assets/images/gallery/nature-5.jpg" alt="Nature Image 5"/>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-9">
                    <div class="panel panel-default">
                    <!--状态提示框-->
                         <div id="alertBoxDiv"></div>
                         <form id="userInfoForm" class="form-horizontal">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title"><strong>个人中心 </strong> > 个人信息</h3>

                                </div>
                                <div class="panel-body">
                                    <br><br><br>
                                </div>
                                <div class="panel-body">

                                    <input id="uid" name="uid" value="" type="hidden" />
                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">账号</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-pencil"></span></span>
                                                <input id="username"  name="username" type="text" class="form-control" readonly="readonly"/>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">名称</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="name" name="name" type="text" class="form-control"/>
                                            </div>

                                        </div>

                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">真实姓名</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="true_name" name="true_name" type="text" class="form-control"/>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">自我描述</label>
                                        <div class="col-md-6 col-xs-12">
                                            <textarea id="description" name="description" class="form-control" rows="5"></textarea>
                                            <span class="help-block">Default textarea field</span>
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">出生日期</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa fa-calendar"></span></span>
                                                <input id="birth_date" name="birth_date" type="text" class="form-control datepicker" value="2014-11-01">
                                            </div>
                                            <span class="help-block">请正确按照日期格式</span>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">国家</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="city" name="city" type="text" class="form-control"/>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">邮箱</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="email" name="email" type="text" class="form-control" readonly="readonly"/>
                                            </div>
                                            <span class="help-block">邮箱不能为空</span>
                                        </div>
                                        <button type="button" onclick="changeModalDisplay('email','邮箱')" class="btn btn-primary">更改</button>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">qq </label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="qq" name="qq" type="text" class="form-control" readonly="readonly"/>
                                            </div>
                                        </div>
                                        <button type="button" onclick="changeModalDisplay('qq','QQ')" class="btn btn-primary">更改</button>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">电话号码</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="phone" name="phone" type="text" class="form-control" readonly="readonly"/>
                                            </div>
                                        </div>
                                        <button type="button" onclick="changeModalDisplay('phone','电话号码')" class="btn btn-primary">更改</button>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">隐私设置</label>
                                        <div class="col-md-6 col-xs-12">
                                            <select id="info_shield" name="info_shield" class="form-control select">
                                                <option value="0">不屏蔽</option>
                                                <option value="1">屏蔽</option>
                                            </select>
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">性别</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="col-sm-2">
                                                <input type="radio" name="sex" value="1"  readonly="readonly"/>男<span></span>
                                            </div>
                                            <div class="col-sm-2">
                                                <input type="radio" name="sex" value="0"  readonly="readonly"/>女<span></span>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">地址</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="ip_address" name="ip_address" type="text" class="form-control"/>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">微信账号</label>
                                        <div class="col-md-6 col-xs-12">
                                            <div class="input-group">
                                                <span class="input-group-addon"><span class="fa  fa-pencil"></span></span>
                                                <input id="we_chat_account" name="we_chat_account" type="text" class="form-control" readonly="readonly"/>

                                            </div>
                                        </div>
                                        <button type="button" onclick="changeModalDisplay('we_chat_account','微信')" class="btn btn-primary">更改</button>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">Tags</label>
                                        <div class="col-md-6 col-xs-12">
                                            <input type="text" class="tagsinput" value="First,Second,Third"/>
                                            <span class="help-block">Default textarea field</span>
                                        </div>
                                    </div>



                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">File</label>
                                        <div class="col-md-6 col-xs-12">
                                            <input type="file" class="fileinput btn-primary" name="filename" id="filename" title="Browse file"/>
                                            <span class="help-block">Input type file</span>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-md-3 col-xs-12 control-label">Checkbox</label>
                                        <div class="col-md-6 col-xs-12">
                                            <label class="check"><input type="checkbox" class="icheckbox" checked="checked"/> Checkbox title</label>
                                            <span class="help-block">Checkbox sample, easy to use</span>
                                        </div>
                                    </div>

                                </div>
                                <div class="panel-footer">
                                    <button type="button" id="submit" onclick="formUpdate('/AuthorizationManage/userInfoUpdate','userInfoForm')" class="btn btn-primary pull-right">提交更改</button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <form id="collectionForm" class="form-horizontal"></form>
                </div>


            </div>

        </div>
    </div>
    <!-- END PAGE CONTENT -->

</div>
<!-- END PAGE CONTAINER -->
<div class="modal fade" id="changeModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document" id="changeModalDialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="changeModalLabel"></h4>
            </div>
            <form  method="post" class="form-horizontal" role="form" id="changeForm">
                <div class="modal-body">
                    <!--<input id="uid" name="uid" value="" type="hidden" />-->
                    <div class="form-group">
                        <label id="changeInputLabel" for="changeInput" class="col-sm-2 control-label"></label>
                        <div class="col-sm-8">
                            <input type="text" name="changeInput" class="form-control" id="changeInput" />
                            <span class="help-block">请按正确格式更改</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label id="verificationCode" for="changeInput" class="col-sm-2 control-label">验证码</label>
                        <div class="col-sm-8">
                            <input type="text" name="verificationCodeInput" class="form-control" id="verificationCodeInput" />
                            <span class="help-block">请输入正确验证码</span>
                        </div>
                        <button class="btn btn-primary" type="button" onclick="" id="verificationCodeButton">获取验证码</button>
                    </div>




                </div>
                <div class="panel-footer">
                    <div class="col-sm-10"></div>
                    <div class="modal-body col-sm-2"><button type="button"  onclick="" class="btn btn-primary pull-right">更改</button></div>


                </div>
            </form>
        </div>
    </div>
</div>





<div th:include="fragments/layout :: messageBox" th:remove="tag">

</div>


<!-- START SCRIPTS -->
<div th:include="fragments/layout :: allHasJs" th:remove="tag">

</div>

<!-- START THIS PAGE PLUGINS-->
<script type='text/javascript' src='/js/plugins/icheck/icheck.min.js'></script>
<script type="text/javascript" src="/js/plugins/mcustomscrollbar/jquery.mCustomScrollbar.min.js"></script>
<script type="text/javascript" src="/js/plugins/scrolltotop/scrolltopcontrol.js"></script>

<script type="text/javascript" src="/js/plugins/morris/raphael-min.js"></script>
<script type="text/javascript" src="/js/plugins/morris/morris.min.js"></script>
<script type="text/javascript" src="/js/plugins/rickshaw/d3.v3.js"></script>
<script type="text/javascript" src="/js/plugins/rickshaw/rickshaw.min.js"></script>
<script type='text/javascript' src='/js/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js'></script>
<script type='text/javascript' src='/js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js'></script>
<script type='text/javascript' src='/js/plugins/bootstrap/bootstrap-datepicker.js'></script>
<script type="text/javascript" src="/js/plugins/owl/owl.carousel.min.js"></script>
<script type="text/javascript" src="/js/plugins/tagsinput/jquery.tagsinput.min.js"></script>
<script type="text/javascript" src="/js/plugins/bootstrap/bootstrap-file-input.js"></script>
<script type="text/javascript" src="/js/plugins/moment.min.js"></script>
<script type="text/javascript" src="/js/plugins/daterangepicker/daterangepicker.js"></script>
<script type="text/javascript" src="/js/plugins/bootstrap/bootstrap-select.js"></script>
<script type="text/javascript" src="/js/plugins/bootstrap/bootstrap-table.min.js"></script>
<script type="text/javascript" src="/js/plugins/bootstrap/bootstrap-table-zh-CN.min.js"></script>
<!-- END THIS PAGE PLUGINS-->

<!-- START TEMPLATE -->
<div th:include="fragments/layout :: templateJs" th:remove="tag"></div>
<!-- END TEMPLATE -->
<!-- END SCRIPTS -->
<script>

    $(document).ready(function(){
        fillFormUseEntity(userData,$('#userInfoForm'));

    });
    var alertBox = new AlertBox('alertBoxDiv');
    function changeForm(itemName,formId,callback) {
        $("a.list-group-item").attr("class","list-group-item");
        $("#"+itemName+"").addClass("active");
        $("#userInfoForm").hide();
        $("#collectionForm").hide();
        $("#"+formId+"").show();
        if(callback){
            callback();
        }
    }

    function fillForm() {
        fillFormUseEntity(userData,$('#userInfoForm'));
    }

    function formUpdate(url,formId) {
//        alert('---------------------')
        ajaxFormSubmit({
            url:url,
            type:'post',

            success:function (data) {
//                alert("!!!");
                reflashUserData();
                fillForm();
                if(data['statusCode'] === 1000){
                    alertBox.addNewAlert('success',"操作成功","你所做的修改已生效");
//                    alert("****");

                }else{
                    alertBox.addNewAlert('danger',"操作失败",data['message']);

                }

            },
            error:function (e) {
//                alert('---------------')
            }
        },formId)
    }

    function changeModalDisplay(item,word){

        $("#changeModal").modal("show");
        $("#changeModalDialog").css("z-index", "1500");
        $("#changeModalLabel").text("更改"+word);
        $("#changeInputLabel").text(word);
        $("#changeInput").attr("value",userData[item]);

    }


</script>
</body>
</html>






